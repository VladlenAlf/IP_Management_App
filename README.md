# IP Management System

Веб-приложение для администрирования IP адресов с использованием Node.js, Express.js и SQLite3.

## Функционал

- ✅ **Система авторизации** с защищенным доступом
- ✅ Управление IP адресами (добавление, редактирование, удаление)
- ✅ Управление подсетями с различными масками (создание, редактирование)
- ✅ Фильтрация и поиск по IP адресам
- ✅ Статистика занятых/свободных IP адресов
- ✅ Импорт данных из Excel файлов
- ✅ Минималистичный и удобный интерфейс
- ✅ Адаптивный дизайн для мобильных устройств

## Установка и запуск

1. Установите зависимости:
```bash
npm install
```

2. Запустите сервер:
```bash
npm start
```

3. Откройте в браузере:
```
http://localhost:3000
```

4. Войдите в систему используя:
   - **Логин**: admin
   - **Пароль**: admin123

## Для разработки

Запуск с автоматической перезагрузкой:
```bash
npm run dev
```

## Структура базы данных

### Таблица `users`
- `id` - уникальный идентификатор
- `username` - имя пользователя
- `password_hash` - хэш пароля
- `full_name` - полное имя
- `role` - роль пользователя (admin/user)
- `created_date` - дата создания
- `last_login` - последний вход в систему

### Таблица `subnets`
- `id` - уникальный идентификатор
- `network` - сетевой адрес (например, 192.168.1.0)
- `mask` - маска подсети (например, 24)
- `description` - описание подсети
- `created_date` - дата создания

### Таблица `ip_addresses`
- `id` - уникальный идентификатор
- `ip_address` - IP адрес
- `subnet_id` - связь с подсетью
- `company_name` - название компании
- `assigned_date` - дата выдачи
- `is_occupied` - занят (1) или свободен (0)
- `description` - описание
- `created_date` - дата добавления

## Импорт из Excel

Поддерживаемые колонки в Excel файле:
- `ip_address` - IP адрес (обязательно)
- `company_name` - название компании
- `assigned_date` - дата выдачи
- `is_occupied` - статус (1 - занят, 0 - свободен)
- `description` - описание

## API Endpoints

### Авторизация
- `POST /api/login` - вход в систему
- `POST /api/logout` - выход из системы
- `GET /api/auth-status` - проверка статуса авторизации

### Основные API (требуют авторизации)
- `GET /api/stats` - статистика
- `GET /api/subnets` - список подсетей
- `POST /api/subnets` - создание подсети
- `PUT /api/subnets/:id` - редактирование подсети
- `GET /api/ip-addresses` - список IP адресов (с фильтрами)
- `POST /api/ip-addresses` - добавление IP адреса
- `PUT /api/ip-addresses/:id` - обновление IP адреса
- `DELETE /api/ip-addresses/:id` - удаление IP адреса
- `POST /api/import-excel` - импорт из Excel

## Технологии

- **Backend**: Node.js, Express.js, SQLite3, Express-Session, Bcrypt
- **Frontend**: Vanilla JavaScript, HTML5, CSS3
- **Дополнительно**: Multer (загрузка файлов), XLSX (работа с Excel)

## Безопасность

- Пароли хэшируются с использованием bcrypt
- Сессии с автоматическим истечением (24 часа)
- Все API маршруты защищены проверкой авторизации
- Автоматическое перенаправление на страницу входа для неавторизованных пользователей

## Лицензия

MIT